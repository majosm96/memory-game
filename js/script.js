"use strict";var game=function(){function e(){var e=document.getElementsByClassName("card"),n=["url('./img/raspberry.png')","url('./img/orange.png')","url('./img/banana.png')","url('./img/apple.png')","url('./img/blue_berry.png')","url('./img/cherry.png')","url('./img/cherry.png')","url('./img/banana.png')","url('./img/grapes.png')","url('./img/lemon.png')","url('./img/lemon.png')","url('./img/raspberry.png')","url('./img/watermelon.png')","url('./img/strawberry.png')","url('./img/watermelon.png')","url('./img/orange.png')","url('./img/apple.png')","url('./img/blue_berry.png')","url('./img/strawberry.png')","url('./img/grapes.png')"];l=[],s=[],a=[],function(e){for(var r=e.length-1;r>0;r--){var n=Math.floor(Math.random()*(r+1)),t=e[r];e[r]=e[n],e[n]=t}}(n);for(var i=function(o){e[o].classList.contains("flipped")&&e[o].classList.toggle("flipped"),e[o].querySelector(".back").style.backgroundImage=n[o],e[o].addEventListener("click",r),10===t&&Array.from(s).forEach(function(r){e[o].classList.remove("flipped"),console.log("test",r)})},g=0;g<e.length;g++)i(g);c.innerText=o}function r(){!this.classList.contains("flipped")&&l.length<2&&(this.classList.toggle("flipped"),this.setAttribute("data-id",g),g+=1,l.push(this),s.push(this),a.push(this.dataset.id),console.error(s),console.error(a),2===l.length&&(l[0].querySelector(".back").style.backgroundImage===l[1].querySelector(".back").style.backgroundImage?(o+=100,c.innerText=o,console.log(s[0].querySelector(".back").dataset.id),setTimeout(function(){l[0].querySelector(".back").style.display="none",l[1].querySelector(".back").style.display="none",l=[]},1e3),t+=1,console.log(t)):(!function(){for(var e=0;e<s.length;e++)if(s[e].querySelector(".back").style.backgroundImage===l[0].querySelector(".back").style.backgroundImage||s[e].querySelector(".back").style.backgroundImage===l[1].querySelector(".back").style.backgroundImage)return console.log("testing"),o-=0===o?0:50,c.innerText=o,o}(),console.log("testing"),setTimeout(n,1500)))),function(){localStorage.setItem("highScore",i);var e=document.getElementById("best");console.log(e),o>i&&(i=o),e.innerText=i}()}function n(){l[0].classList.toggle("flipped"),l[1].classList.toggle("flipped"),l=[]}var t=0,o=0,l=void 0,i=0,g=0,a=void 0,s=void 0,c=document.getElementById("score");return{init:function(){e(),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("sw.js").then(function(e){console.log("SW registered: ",e),e.pushManager.subscribe({userVisibleOnly:!0})}).catch(function(e){console.log("SW registered: ",e)})}),document.getElementById("restart").addEventListener("click",e),10===t&&Array.from(s).forEach(function(e){e.classList.remove("flipped")})}}}();game.init();